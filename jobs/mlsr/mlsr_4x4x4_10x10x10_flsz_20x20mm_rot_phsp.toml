[RunSvc]
JobName = "mlsr_4x4x4_10x10x10_flsz-ellipse_20x20mm_2e4"
BeamType = "IAEA"
# PhspInputFileName = "/mnt/c/Users/brachwal-agh/Workspace/IAEA/Clinac2300-PhSp-Primo/TNSIM157_3x3s2-f0" # AGH Dell-XPS location
# PhspInputFileName = "/etude/brachwal/iaea-phsp/TNSIM157_3x3s2-f0" # AGH LHCBD2 location
# PhspInputFileName = "/mnt/e/Data/dose3d/mc/phsp/Clinac2300-PhSp-Primo/TNSIM157_3x3s2-f0" # AGH BR location
# PhspInputFileName = "/mnt/e/Data/dose3d/mc/phsp/Clinac2300-PhSp-Primo/TNSIM157_10x10s2-f0" # AGH BR location
PhspInputFileName = "/mnt/d/Data/mc/phsp/Clinac2300-PhSp-Primo/TNSIM157_10x10s2-f0" # AGH JH File
# PhspInputFileName = "/mnt/e/phsp/TNSIM157_3x3s2-f0" # AGH JH Home File
PhspEvtVrtxMultiplicityTreshold = 5
# PhspInputPosition = "s2"
PrintProgressFrequency = 0.05
GenerateCT = false
PrimariesAnalysis = false
NTupleAnalysis = false
RunAnalysis = true

# # FieldShape = "Rectangular"
# FieldShape = "Elipsoidal"
# FieldSizeA = 20 # mm
# FieldSizeB = 20 # mm
[GeoSvc]
BuildLinac = true
BuildPatient = true

[PatientGeometry]
Type = "D3DDetector"
EnviromentPositionX = 0.0
EnviromentPositionY = 0.0
EnviromentPositionZ = 50.0
EnviromentSizeX = 110.0
EnviromentSizeY = 110.0
EnviromentSizeZ = 110.0
EnviromentMedium = "G4_WATER"

[D3DDetector_Detector]
TopPositionInEnv = [0.0,0.0,-50.0] # In mm
Voxelization = [4,4,4] # Number of cels in every direction

[D3DDetector_Layer]
MRowShift = false
MLayerShift = false

[D3DDetector_Cell]
Medium = "PMMA"
Voxelization = [10,10,10]
TracksAnalysis = false
CellVoxelisedScorer = true

[RunSvc_Plan]
nControlPoints = 2
BeamRotation = [15.0,30.0] # Per Control Point
nParticles = [1e3,1e3] # Per Control Point
MlcInputFile = [
    "Mlc_3x3.dat",
    "Mlc_3x3.dat"
]
RegularFieldMask = [
    {Shape = "Elipsoidal", SizeA = 25.0, SizeB = 50.0 },
    {Shape = "Elipsoidal", SizeA = 10.0, SizeB = 10.0 }
]
